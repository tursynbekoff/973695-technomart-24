!function(t){var i={};function e(s){if(i[s])return i[s].exports;var r=i[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)e.d(s,r,function(i){return t[i]}.bind(null,r));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=131)}({131:function(t,i,e){t.exports=e("u180")},u180:function(t,i,e){"use strict";e.r(i);var s=window.isNumeric,r={},o=0;function l(t){var i=domData(ge(t),"gallery-id");return i&&r[i]}var n=function(){function t(i,e){if(function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),!i)throw new Error("No element was provided for UIGallery");if(i=ge(i),!hasClass(i,"ui_gallery"))throw new Error("Provided incorrect element for UIGallery");var s=l(i);if(s)return s;this._opts=extend({markOutside:!1,scrollY:!0,scrollX:!0,noArrows:!1},e),this._id=++o,this._el=i,this._width=getSize(this._el)[0],this._items=geByClass("ui_gallery_item",this._el),this._itemWidth=getSize(this._items[0])[0],this._itemOffset=intval(getStyle(this._items[0],vk.rtl?"marginLeft":"marginRight")),this._scrollOffset=intval(getStyle(this._items[0],"marginLeft")),this._itemFullWidth=this._itemWidth+this._itemOffset,this._innerCont=geByClass1("ui_gallery__inner_cont",this._el),this._inner=geByClass1("ui_gallery__inner",this._el),this._scroll=function(){var t={rtl:!1,backward:!1,delta:1,negative:!1,rtlSame:!1};if(!vk.rtl)return t;if(!cur._scrollInfo){var i=se('<div style="position: fixed; left: -1000; width: 0; overflow: scroll">x</div>');ge("content").appendChild(i);var e=i.scrollLeft;t.rtl=vk.rtl,t.backward=e>0,i.scrollLeft=1e3,t.delta=i.scrollLeft===e?-1:1,t.negative=!t.backward&&t.delta<0,t.rtlSame=t.rtl&&!t.backward&&!t.negative,re(i),cur._scrollInfo=t}return cur._scrollInfo}(),this._loadingMore=!1,this._finised=!1,this._visible={left:-1,right:-1,items:[]},this._outside={left:-1,right:-1,timer:null},this._initScroll(),this._initArrows(),domData(this._el,"gallery-id",this._id),r[this._id]=this,this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)}return t.prototype._initScroll=function(){(this._opts.scrollX||this._opts.scrollY)&&addEvent(this._innerCont,"DOMMouseScroll wheel",this._onWheelScroll.bind(this))},t.prototype._initArrows=function(){this._opts.noArrows?addClass(this._el,"ui_gallery_no_arrows"):(this._leftArrow=geByClass1("ui_gallery__arrow_left",this._el),this._rightArrow=geByClass1("ui_gallery__arrow_right",this._el),this._arrowWidth=getSize(this._leftArrow)[0],addEvent(this._leftArrow,"click",this._onArrowScroll.bind(this,-1)),addEvent(this._leftArrow,"mouseover",this._onArrowMouseOver.bind(this,"left")),addEvent(this._leftArrow,"mouseout",this._onArrowMouseOut.bind(this)),addEvent(this._rightArrow,"click",this._onArrowScroll.bind(this,1)),addEvent(this._rightArrow,"mouseover",this._onArrowMouseOver.bind(this,"right")),addEvent(this._rightArrow,"mouseout",this._onArrowMouseOut.bind(this)))},t.prototype._onWheelScroll=function(t){if(this._opts.scrollX||this._opts.scrollY){var i=void 0;if("wheel"==t.type)if(Math.abs(t.deltaY)>Math.abs(t.deltaX)){if(!this._opts.scrollY)return;i=-t.deltaY}else{if(!this._opts.scrollX)return;i=-t.deltaX}else if(void 0!==t.wheelDeltaY){if(!this._opts.scrollY)return;i=t.wheelDeltaY}else if(void 0!==t.wheelDelta)i=t.wheelDelta;else{if(!t.detail||1!==t.axis)return;i=-t.detail}i=this._scroll.rtlSame?-i:i,Math.abs(i)>=120&&(i=74*Math.max(-1,Math.min(1,i))),this._innerCont.scrollLeft-=i,this._checkItemsAfterScroll(this._innerCont.scrollLeft),cancelEvent(t)}},t.prototype._onArrowScroll=function(t,i){var e=this;if(!this._opts.noArrows){var s=this._innerCont.scrollLeft+(this._scroll.rtlSame?-t:t)*(this._width-2*this._arrowWidth),r=this._innerCont.scrollWidth-this._width;this._scroll.negative?(s=Math.min(s,0),s=Math.abs(s)):s=Math.max(0,s),s=Math.min(r,s);var o=this._scroll.negative||this._scroll.rtlSame?-t:t;if(o>0&&s<r)s=Math.ceil(s/this._itemFullWidth)*this._itemFullWidth;else if(o<0&&s>0){s=Math.floor(s/this._itemFullWidth)*this._itemFullWidth}if(0===s||s===r){var l=this._innerCont.scrollWidth;addClass(this._inner,"ui_gallery__inner_shift_instant"),this._onArrowMouseOut(),s&&(s+=t*(this._innerCont.scrollWidth-l))}this._scroll.negative&&(s=-s),animate(this._innerCont,{scrollLeft:s},{duration:Math.abs(this._innerCont.scrollLeft-s)+50,transition:Fx.Transitions.easeOutCubic}),this._checkItemsAfterScroll(s),setTimeout(function(){return removeClass(e._inner,"ui_gallery__inner_shift_instant")},0),cancelEvent(i)}},t.prototype._checkItemsAfterScroll=function(t,i){if(this._scroll.negative&&(t=Math.abs(t)),this._opts.markOutside||this._opts.onViewItem){var e=this._itemWidth/3,s=(this._scroll.backward?this._inner.scrollWidth-this._width-t:t)-this._scrollOffset,r=t&&Math.floor(s/this._itemFullWidth),o=r*this._itemFullWidth+2*e,l=void 0;l=this._scroll.backward?t+this._width<this._inner.scrollWidth-o:t>o;var n=Math.min(this._items.length-1,Math.floor((s+this._width)/this._itemFullWidth)),h=n*this._itemFullWidth+2*e,_=void 0;if(_=this._scroll.backward?t>this._inner.scrollWidth-h:t+this._width<h,this._opts.onViewItem){var a=l?Math.min(this._items.length-1,r+1):r,d=_?Math.max(0,n-1):n;if(i||a!==this._visible.left||d!==this._visible.right){for(var u=a;u<=d;u++)(this._visible.left<0||i&&!inArray(this._items[u],this._visible.items)||u<this._visible.left||u>this._visible.right)&&this._opts.onViewItem(this._items[u],u);this._visible.left=a,this._visible.right=d,this._visible.items=this._items.slice(a,d+1)}}this._opts.markOutside&&(i?(geByClass("ui_gallery_item_outside",this._inner).forEach(function(t){removeClass(t,"ui_gallery_item_outside")}),this._outside.left=-1,this._outside.right=-1):((r!==this._outside.left||!l)&&this._outside.left>=0&&(removeClass(this._items[this._outside.left],"ui_gallery_item_outside"),this._outside.left=-1),(n!==this._outside.right||!_)&&this._outside.right>=0&&(removeClass(this._items[this._outside.right],"ui_gallery_item_outside"),this._outside.right=-1)),l&&r!==this._outside.left&&(addClass(this._items[r],"ui_gallery_item_outside"),this._outside.left=r),_&&n!==this._outside.right&&(addClass(this._items[n],"ui_gallery_item_outside"),this._outside.right=n))}if(!this._opts.noArrows){var c=t>0,f=t+this._width<this._inner.scrollWidth;toggleClass(this._leftArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?f:c),toggleClass(this._rightArrow,"ui_gallery__arrow_visible",this._scroll.rtl&&!this._scroll.backward?c:f)}(!this._scroll.backward&&this._inner.scrollWidth-t-this._width<1e3||this._scroll.backward&&t<1e3)&&this._onLoadMore()},t.prototype._onArrowMouseOver=function(t){this._opts.noArrows||addClass(this._inner,"ui_gallery__inner_shift_"+t)},t.prototype._onArrowMouseOut=function(){this._opts.noArrows||(removeClass(this._inner,"ui_gallery__inner_shift_left"),removeClass(this._inner,"ui_gallery__inner_shift_right"))},t.prototype._onLoadMore=function(){!this._opts.onLoadMore||this._loadingMore||this._finised||(this._loadingMore=!0,this._opts.onLoadMore(this._items.length))},t.prototype.addMore=function(t,i){t=t||[],this.addItems(t),this._finised=!!i||!t.length,this._loadingMore=!1},t.prototype.addItems=function(t,i){var e=this;if((t=t||[]).length){var s=i>=0&&i<this._items.length?this._items[i]:null;t.forEach(function(t){s?domInsertBefore(t,s):e._inner.appendChild(t)}),this.refresh()}},t.prototype.destroy=function(){removeEvent(this._innerCont),removeEvent(this._leftArrow),removeEvent(this._rightArrow),domData(this._el,"gallery-id",null),delete r[this._id],this._opts.onDestroy&&this._opts.onDestroy(),re(this._el)},t.prototype.removeItem=function(t){return s(t)&&(t=this._items[t]),!(!t||!inArray(t,this._items))&&(re(t),this.refresh(),this._items.length||this.destroy(),!0)},t.prototype.refresh=function(){this._width=getSize(this._el)[0],this._items=geByClass("ui_gallery_item",this._el),this._checkItemsAfterScroll(this._innerCont.scrollLeft,!0)},t.prototype.getItems=function(){return this._items},t.prototype.getVisibleItems=function(){var t=this;return this._visible.items.map(function(i,e){return[i,t._visible.left+e]})},t}();window.UIGallery=n,window.uiGetGallery=l,stManager.done(jsc("web/ui_components.js"))}});